(()=>{"use strict";var e={426:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(81),r=n.n(a),o=n(645),c=n.n(o),s=n(667),i=n.n(s),d=new URL(n(581),n.b),l=c()(r()),p=i()(d);l.push([e.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    background-color: #c6b8d1;\n}\n\n.header {\n    padding: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 50px;\n}\n\n.garage-btn,\n.winners-btn,\n.create-btn,\n.update-btn,\n.race-btn,\n.reset-btn,\n.generate-btn,\n.prev-btn,\n.next-btn,\n.btn-select,\n.btn-remove,\n.btn-a,\n.btn-b,\n.sort-win,\n.sort-time {\n    padding: 10px 30px;\n    cursor: pointer;\n    text-transform: capitalize;\n    font-size: 16px;\n    border: none;\n    border-radius: 20px;\n}\n.garage-btn,\n.winners-btn {\n    color: #000;\n    text-decoration: none;\n    background-color: #f0f0f0;\n    font-family: Arial, Helvetica, sans-serif;\n}\n.garage-btn {\n    margin-right: 10px;\n}\n.main {\n    display: flex;\n    flex-direction: column;\n    gap: 50px;\n}\n.options {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n}\n\n.create,\n.update {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.input-text {\n    width: 284px;\n    height: 50px;\n    border: none;\n    outline: none;\n    border-radius: 25px;\n    padding: 20px;\n    font-size: 16px;\n}\n\n.input-color {\n    width: 30px;\n    height: 30px;\n    border: none;\n    outline: none;\n}\n\n.btns,\n.pagination {\n    display: flex;\n    gap: 10px;\n}\n\n.generate-btn {\n    width: 227px;\n}\n\n.main {\n    padding: 20px;\n}\n.garage-wrapper {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n    /* position: relative; */\n}\n.track-header {\n    display: flex;\n    gap: 15px;\n    align-items: center;\n    margin-bottom: 10px;\n}\n.page-name,\n.page-num,\n.car-name,\n.quantity {\n    color: #fff;\n    text-transform: capitalize;\n    margin-bottom: 10px;\n}\n\n.text {\n    position: relative;\n}\n.quantity {\n    position: absolute;\n    top: 13px;\n    left: 130px;\n}\n\n.track-wrapper {\n    margin-bottom: 30px;\n    border-bottom: 2px dashed #fff;\n    position: relative;\n}\n\n.car {\n    width: 100px;\n    height: 50px;\n    position: relative;\n}\n.car-svg {\n    width: 100%;\n    height: auto;\n}\n.game-controls {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 15px;\n}\n.flag {\n    background-image: url("+p+");\n    background-position: center center;\n    background-repeat: no-repeat;\n    width: 50px;\n    height: 50px;\n    position: absolute;\n    top: 100px;\n    right: 110px;\n}\n.winner-wrapper {\n    /* opacity: 0; */\n    /* position: absolute;\n    z-index: -1; */\n    display: none;\n}\n.table {\n    text-transform: capitalize;\n}\n.table-head {\n    color: #fff;\n    font-size: 20px;\n}\n.table-head > * {\n    width: 150px;\n}\n.table-row > * {\n    text-align: center;\n}\n.table-car-svg > .car-svg {\n    width: 100px;\n    height: auto;\n}\n\n.winner-text {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, 0);\n    padding: 20px 50px;\n    font-size: 1.5em;\n    background-color: #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 50px;\n    text-transform: capitalize;\n}\n\n.sort-win,\n.sort-time {\n    margin-bottom: 30px;\n}\n",""]);const u=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(a)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(c[i]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);a&&c[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},654:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(379),r=n.n(a),o=n(426);r()(o.Z,{insert:"head",singleton:!1});const c=o.Z.locals||{}},379:(e,t,n)=>{var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function c(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],r=0;r<e.length;r++){var s=e[r],i=t.base?s[0]+t.base:s[0],d=n[i]||0,l="".concat(i," ").concat(d);n[i]=d+1;var p=c(l),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(o[p].references++,o[p].updater(u)):o.push({identifier:l,updater:f(u,t),references:1}),a.push(l)}return a}function i(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var o=n.nc;o&&(a.nonce=o)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var c=r(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function p(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=l(t,r);else{var o=document.createTextNode(r),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(o,c[t]):e.appendChild(o)}}function u(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,g=0;function f(e,t){var n,a,r;if(t.singleton){var o=g++;n=m||(m=i(t)),a=p.bind(null,n,o,!1),r=p.bind(null,n,o,!0)}else n=i(t),a=u.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=c(n[a]);o[r].references--}for(var i=s(e,t),d=0;d<n.length;d++){var l=c(n[d]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=i}}}},140:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAllCars=t.getCars=void 0;const a=n(780);t.getCars=async(e,t)=>{const n=await fetch(`${a.GET_CAR_URL}?_limit=${e}&_page=${t}`);return await n.json()},t.getAllCars=async()=>{const e=await fetch(a.GET_CAR_URL);return await e.json()}},606:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.driveCar=void 0;const a=n(780);t.driveCar=async(e,t,n,r)=>{const o=await fetch(`${a.START_STOP_CAR_URL}?id=${e}&status=${t}`,{method:"PATCH"});let c;return 500===o.status&&n.pause(),c=r?await o.json():"drive"===t?await o.text():await o.json(),r&&"drive"===t&&(c.carId=e,c.time=Math.trunc(r.distance/r.velocity)),c}},760:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postWinner=t.getAllWinners=t.getWinners=void 0;const a=n(780);t.getWinners=async(e,t)=>{const n=await fetch(`${a.GET_WINNERS_URL}?_limit=${e}&_page=${t}`);return await n.json()},t.getAllWinners=async()=>{const e=await fetch(a.GET_WINNERS_URL);return await e.json()},t.postWinner=async e=>{const t=await fetch(`${a.GET_WINNERS_URL}/${e.carId}`);if(404===t.status)(async e=>{const t={id:e.carId,wins:1,time:e.time/1e3};await fetch(a.GET_WINNERS_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})(e);else{const n=await t.json();n.wins++,n.time>e.time/1e3&&(n.time=e.time/1e3),await fetch(`${a.GET_WINNERS_URL}/${e.carId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:n.wins,time:n.time})})}}},238:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startApp=void 0;const a=n(407),r=n(205),o=n(407),c=n(870),s=n(866),i=n(294),d=n(823),l=n(890),p=n(595),u=n(650),m=n(389),g=n(62),f=n(477),h=n(560),b=n(663),y=n(464);t.startApp=async()=>{(0,a.registerNav)(),await(0,r.registerGarageMain)(),await(0,c.registerOptionBlock)(),await(0,p.createTitleBlock)(u.store),await(0,i.registerGarage)(),await(0,d.registerTable)(),(0,s.registerPagination)(),(0,o.handlerPageChanger)(),await(0,s.changeNextBtn)(),window.addEventListener("hashchange",o.handlerPageChanger),document.querySelector(".generate-btn").addEventListener("click",l.generateCars),document.querySelector(".create-btn").addEventListener("click",m.createCar),document.querySelector(".pagination").addEventListener("click",s.handlerPagination);const e=document.querySelector(".track-list");e.addEventListener("click",g.updateCar),document.querySelector(".update-btn").addEventListener("click",g.changeCar),e.addEventListener("click",f.deleteCar),e.addEventListener("click",h.raceCar),e.addEventListener("click",h.returnCar),document.querySelector(".race-btn").addEventListener("click",b.raceAllCars),document.querySelector(".reset-btn").addEventListener("click",b.resetAllCars);const t=document.querySelector(".sort-win"),n=document.querySelector(".sort-time");t.addEventListener("click",y.sortWinners),n.addEventListener("click",y.sortWinners)}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GET_WINNERS_URL=t.START_STOP_CAR_URL=t.GET_CAR_URL=void 0,t.GET_CAR_URL="http://127.0.0.1:3000/garage",t.START_STOP_CAR_URL="http://127.0.0.1:3000/engine",t.GET_WINNERS_URL="http://127.0.0.1:3000/winners"},389:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createCar=void 0;const a=n(140),r=n(780),o=n(294),c=n(866),s=n(650);t.createCar=async()=>{const e=document.querySelector(".track-list"),t=document.querySelector(".quantity"),n=document.querySelector(".create  .input-text"),i=document.querySelector(".create  .input-color");if(""===n.value)return void alert("Please enter car's name");const d={color:i.value,name:n.value},l=(await fetch(r.GET_CAR_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),(await(0,a.getAllCars)()).length);localStorage.setItem("carsQuantity",String(l)),t.textContent=`${l}`;const p=await(0,a.getCars)(7,s.store.pageNumGarage);e.innerHTML=null;for(const t of p){const n=(0,o.createTrack)(t);e.append(n)}await(0,c.changeNextBtn)()}},477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCar=void 0;const a=n(140),r=n(780),o=n(294),c=n(866),s=n(650),i=n(823);t.deleteCar=async e=>{const t=document.querySelector(".quantity"),n=document.querySelector(".track-list"),d=e.target;if(d.classList.contains("btn-remove")){const e=+d.dataset.carid,l=(await fetch(`${r.GET_CAR_URL}/${e}`,{method:"DELETE"}),(await(0,a.getAllCars)()).length);localStorage.setItem("carsQuantity",String(l)),t.textContent=`${l}`;const p=await(0,a.getCars)(7,s.store.pageNumGarage);n.innerHTML=null;for(const e of p){const t=(0,o.createTrack)(e);n.append(t)}(async e=>{if(200===(await fetch(`${r.GET_WINNERS_URL}/${e}`,{method:"DELETE"})).status){const e=(0,i.showWinnersQuantity)();localStorage.setItem("winnersQuantity",String(e)),(0,i.updateTable)(),await(0,c.changeNextBtn)()}})(e)}}},294:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerGarage=t.createTrack=void 0;const a=n(140),r=n(650),o=n(657),c=(e,t,n)=>{const a=document.createElement("button");return a.classList.add(e),a.textContent=t,a.setAttribute("data-carId",`${n}`),"btn-b"===e&&(a.disabled=!0),a};t.createTrack=e=>{const t=document.createElement("div");t.classList.add("track-wrapper"),t.setAttribute("data-carId",`${e.id}`);const n=document.createElement("div");n.classList.add("track-header"),t.append(n);const a=c("btn-select","select",e.id),r=c("btn-remove","remove",e.id),s=document.createElement("span");s.classList.add("car-name"),s.textContent=e.name,n.append(a,r,s);const i=document.createElement("div");i.classList.add("game-controls"),t.append(i);const d=c("btn-a","a",e.id),l=c("btn-b","b",e.id);i.append(d,l);const p=document.createElement("div");p.classList.add("car"),p.setAttribute("data-carId",`${e.id}`);const u=(0,o.createImgCar)(e.color);p.innerHTML=u,t.append(p);const m=(()=>{const e=document.createElement("div");return e.classList.add("flag"),e})();return m.setAttribute("data-carId",`${e.id}`),t.append(m),t},t.registerGarage=async()=>{const e=await(0,a.getCars)(7,r.store.pageNumGarage),n=(()=>{const e=document.querySelector(".main"),t=document.createElement("div");return t.classList.add("garage-wrapper"),e.append(t),t})(),o=(()=>{const e=document.createElement("div");return e.classList.add("track-list"),e})();n.append(o);for(const n of e){const e=(0,t.createTrack)(n);o.append(e)}}},205:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerGarageMain=void 0,t.registerGarageMain=()=>{(()=>{const e=document.querySelector("body"),t=document.createElement("main");t.classList.add("main"),e.append(t)})()}},890:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateCars=t.generateColor=t.generateName=void 0;const a=n(140),r=n(780),o=n(294),c=n(866),s=n(650),i=["opel","BMW","audi","kia","scoda","datsun","nissan","infiniti","volkswagen","mazda","Toyota","renault","chevrolet","tesla"],d=["solaris","elantra","sonata","camry","corolla","supra","i30","land","XT5","rio","nexia","spark","s4"],l=["#73055D","#FAF8F5","#E08E45","#F8F4A6","#241E4E","#66999B","#B3AF8F","#631D76","#D62828","#E8CEE4","#59C3C3","#009DDC","#AED9E0","#74a317","#D4BEBE","#FF6B6C","#3A5743","#3B7080"];t.generateName=()=>{const e=Math.floor(Math.random()*(i.length-1-0+1)),t=Math.floor(Math.random()*(d.length-1-0+1));return`${i[e]}-${d[t]}`},t.generateColor=()=>{const e=Math.floor(Math.random()*(l.length-1-0+1));return l[e]},t.generateCars=async()=>{const e=document.querySelector(".track-list"),n=document.querySelector(".quantity");for(let e=0;e<100;e++){const e=(0,t.generateName)(),n={color:(0,t.generateColor)(),name:e};await fetch(r.GET_CAR_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}const i=await fetch(r.GET_CAR_URL),d=(await i.json()).length;localStorage.setItem("carsQuantity",String(d)),n.textContent=`${d}`;const l=await(0,a.getCars)(7,s.store.pageNumGarage);e.innerHTML=null;for(const t of l){const n=(0,o.createTrack)(t);e.append(n)}await(0,c.changeNextBtn)()}},407:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerNav=t.handlerPageChanger=void 0;const a=n(866),r=n(650),o=n(823);t.handlerPageChanger=async()=>{const e=document.querySelector(".page-num"),t=document.querySelector(".quantity"),n=document.querySelector(".page-name"),c=document.querySelector(".options"),s=document.querySelector(".garage-wrapper"),i=document.querySelector(".winner-wrapper"),d=window.location.hash.slice(1);if("garage"!==d&&""!==d||(c.style.display="flex",s.style.display="flex",i.style.display="none",n.textContent="garage",r.store.pageName="garage",t.textContent=`${localStorage.getItem("carsQuantity")||r.store.carsQuantity}`,e.textContent=`page ${localStorage.getItem("pageNumGarage")||r.store.pageNumGarage}`,localStorage.setItem("place","garage")),"winners"===d){c.style.display="none",s.style.display="none",i.style.display="block",n.textContent="winners",r.store.pageName="winners",t.textContent=`${r.store.winnersQuantity}`,e.textContent=`page ${localStorage.getItem("pageNumWinners")||r.store.pageNumWinners}`,localStorage.setItem("place","winners");const d=await(0,o.showWinnersQuantity)();localStorage.setItem("winnersQuantity",String(d)),t.textContent=`${d}`,await(0,a.changeNextBtn)()}},t.registerNav=()=>{(()=>{const e=document.querySelector("body"),t=document.createElement("header");t.classList.add("header"),e.append(t)})(),(()=>{const e=document.querySelector(".header"),t=document.createElement("div");t.classList.add("btns");const n=document.createElement("a");n.classList.add("garage-btn"),n.textContent="to garage",n.href="#garage";const a=document.createElement("a");a.classList.add("winners-btn"),a.textContent="to winners",a.href="#winners",t.append(n),t.append(a),e.append(t)})()}},870:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerOptionBlock=void 0,t.registerOptionBlock=()=>{const e=document.querySelector(".main"),t=(()=>{const e=document.createElement("div");return e.classList.add("options"),e})(),n=(()=>{const e=document.createElement("div");e.classList.add("create");const t=document.createElement("input");t.type="text",t.classList.add("input-text"),e.append(t);const n=document.createElement("input");n.type="color",n.classList.add("input-color"),e.append(n);const a=document.createElement("button");return a.classList.add("create-btn"),a.textContent="create",e.append(a),e})(),a=(()=>{const e=document.createElement("div");e.classList.add("update");const t=document.createElement("input");t.type="text",t.classList.add("input-text"),t.disabled=!0,e.append(t);const n=document.createElement("input");n.type="color",n.classList.add("input-color"),n.disabled=!0,e.append(n);const a=document.createElement("button");return a.classList.add("update-btn"),a.textContent="update",a.disabled=!0,e.append(a),e})(),r=(()=>{const e=document.createElement("div");e.classList.add("btns");const t=document.createElement("button");t.classList.add("race-btn"),t.textContent="race",e.append(t);const n=document.createElement("button");n.classList.add("reset-btn"),n.textContent="reset",e.append(n);const a=document.createElement("button");return a.classList.add("generate-btn"),a.textContent="generate cars",e.append(a),e})();t.append(n),t.append(a),t.append(r),e.append(t)}},866:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handlerPagination=t.changeNextBtn=t.registerPagination=void 0;const a=n(140),r=n(294),o=n(650),c=n(823),s=n(760);t.registerPagination=()=>{(()=>{const e=document.querySelector(".main"),t=document.createElement("div");t.classList.add("pagination");const n=document.createElement("button");n.classList.add("prev-btn"),n.textContent="previous page",n.setAttribute("data-direction","previous"),t.append(n);const a=document.createElement("button");a.classList.add("next-btn"),a.textContent="next page",a.setAttribute("data-direction","next"),t.append(a),e.append(t)})()},t.changeNextBtn=async()=>{const e=document.querySelector(".next-btn"),t=window.location.hash.slice(1);"garage"!==t&&""!==t||(0===(await(0,a.getCars)(7,o.store.pageNumGarage+1)).length?e.disabled=!0:e.disabled=!1),"winners"===t&&(0===(await(0,s.getWinners)(10,o.store.pageNumWinners+1)).length?e.disabled=!0:e.disabled=!1)},t.handlerPagination=e=>{const n=e.target;"previous"===n.dataset.direction&&(async()=>{const e=document.querySelector(".page-num"),t=document.querySelector(".track-list"),n=window.location.hash.slice(1);if(("garage"===n||""===n)&&o.store.pageNumGarage>1){o.store.pageNumGarage--,localStorage.setItem("pageNumGarage",String(o.store.pageNumGarage)),e.textContent=`page ${o.store.pageNumGarage}`;const n=await(0,a.getCars)(7,o.store.pageNumGarage);t.innerHTML=null;for(const e of n){const n=(0,r.createTrack)(e);t.append(n)}}"winners"===n&&o.store.pageNumWinners>1&&(o.store.pageNumWinners--,localStorage.setItem("pageNumWinners",String(o.store.pageNumWinners)),e.textContent=`page ${o.store.pageNumWinners}`,(0,c.updateTable)())})(),"next"===n.dataset.direction&&(async()=>{const e=document.querySelector(".page-num"),n=document.querySelector(".track-list"),s=window.location.hash.slice(1);if(("garage"===s||""===s)&&o.store.pageNumGarage>0){o.store.pageNumGarage++,localStorage.setItem("pageNumGarage",String(o.store.pageNumGarage)),e.textContent=`page ${o.store.pageNumGarage}`;const t=await(0,a.getCars)(7,o.store.pageNumGarage);n.innerHTML=null;for(const e of t){const t=(0,r.createTrack)(e);n.append(t)}}"winners"===s&&o.store.pageNumWinners>0&&(o.store.pageNumWinners++,localStorage.setItem("pageNumWinners",String(o.store.pageNumWinners)),e.textContent=`page ${o.store.pageNumWinners}`,(0,c.updateTable)()),await(0,t.changeNextBtn)()})()}},560:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnCar=t.raceCar=void 0;const a=n(606),r=n(650);t.raceCar=e=>{const t=e.target;if(t.classList.contains("btn-a")){const e=t.dataset.carid;document.querySelector(`.btn-b[data-carid="${e}"]`).disabled=!1,t.disabled=!0,(async e=>{const t=document.querySelector(`.flag[data-carid="${e}"]`).getBoundingClientRect(),n=await(0,a.driveCar)(e,"started"),o=document.querySelector(`.car[data-carid="${e}"]`).animate([{transform:"translateX(0)"},{transform:`translateX(${t.left+20}px)`}],{duration:Math.trunc(n.distance/n.velocity),fill:"forwards"});r.store.animation=o,r.store.carId=e,(0,a.driveCar)(e,"drive",o)})(e)}},t.returnCar=e=>{const t=e.target;if(t.classList.contains("btn-b")){const e=document.querySelector(`.btn-a[data-carid="${r.store.carId}"]`);t.disabled=!0,e.disabled=!1,r.store.animation.cancel()}}},663:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resetAllCars=t.raceAllCars=void 0;const a=n(140),r=n(606),o=n(760),c=n(650),s=n(823),i=async e=>{const t=document.querySelector(`.flag[data-carid="${e}"]`).getBoundingClientRect(),n=await(0,r.driveCar)(e,"started"),a=document.querySelector(`.car[data-carid="${e}"]`).animate([{transform:"translateX(0)"},{transform:`translateX(${t.left+20}px)`}],{duration:Math.trunc(n.distance/n.velocity),fill:"forwards"});return c.store.animationArr.push(a),(0,r.driveCar)(e,"drive",a,n)};t.raceAllCars=async()=>{(e=>{const t=document.querySelectorAll(".btn-a"),n=document.querySelectorAll(".btn-b");t.forEach((e=>e.disabled=true)),n.forEach((e=>e.disabled=true))})();const e=await(0,a.getCars)(7,c.store.pageNumGarage),t=[];for(const n of e)t.push(i(n.id));const n=await Promise.any(t).catch((()=>{console.log("All cars are stopped")}));void 0!==n&&((async e=>{const t=document.querySelector(".main"),n=(await(0,a.getCars)(7,c.store.pageNumGarage)).find((t=>t.id===+e.carId)).name,r=document.createElement("div");r.classList.add("winner-text"),r.textContent=`${n}\nwin`,t.append(r),setTimeout((()=>{r.remove()}),2e3)})(n),(0,o.postWinner)(n),(0,s.updateTable)())},t.resetAllCars=()=>{document.querySelectorAll(".btn-a").forEach((e=>e.disabled=!1));for(const e of c.store.animationArr)e.cancel();c.store.animationArr=[],window.stop()}},464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sortWinners=void 0;const a=n(823);t.sortWinners=async e=>{const t=e.target,n=document.querySelector(".table");n.innerHTML=null,n.append((0,a.createHeaderTable)());const r=await(0,a.selectWinners)(),o=t.textContent.split(" ").at(-1);t.classList.contains("sort-win")&&("increase"===o&&(r.sort(((e,t)=>e.wins-t.wins)),t.textContent="sort by wins decrease"),"decrease"===o&&(r.sort(((e,t)=>t.wins-e.wins)),t.textContent="sort by wins increase")),t.classList.contains("sort-time")&&("increase"===o&&(r.sort(((e,t)=>e.time-t.time)),t.textContent="sort by best time decrease"),"decrease"===o&&(r.sort(((e,t)=>t.time-e.time)),t.textContent="sort by best time increase")),r.forEach(((e,t)=>{const r=(0,a.createRow)(e,t);n.append(r)}))}},650:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0,t.store={pageName:localStorage.getItem("place")||"garage",pageNumGarage:+localStorage.getItem("pageNumGarage")||1,pageNumWinners:+localStorage.getItem("pageNumWinners")||1,carsQuantity:+localStorage.getItem("carsQuantity")||4,winnersQuantity:+localStorage.getItem("winnersQuantity")||1,selectedCarId:"",carId:"",animation:null,animationArr:[],winnerNum:0}},657:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createImgCar=void 0,t.createImgCar=(e="#fff")=>`\n    <svg version="1.0" class='car-svg' xmlns="http://www.w3.org/2000/svg"\n     width="1280.000000pt" height="640.000000pt" viewBox="0 0 1280.000000 640.000000"\n     preserveAspectRatio="xMidYMid meet">\n    \n    <g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\n    fill="${e}" stroke="none">\n    <path d="M3525 5341 c-72 -18 -79 -28 -90 -121 -4 -30 -11 -62 -16 -71 -4 -9\n    -97 -51 -206 -94 -774 -304 -1348 -540 -1603 -661 -163 -77 -222 -91 -421\n    -104 -85 -5 -170 -14 -189 -20 -101 -32 -362 -58 -620 -63 l-115 -2 -47 -80\n    c-47 -78 -47 -80 -29 -100 34 -36 35 -77 5 -177 -30 -99 -34 -178 -19 -370 5\n    -67 4 -88 -6 -88 -29 0 -83 -56 -110 -114 -50 -106 -74 -343 -48 -467 13 -58\n    13 -62 3 -159 -5 -54 16 -238 28 -244 2 -1 29 -20 61 -41 73 -49 123 -103 132\n    -143 17 -79 167 -155 355 -181 104 -15 969 -97 1087 -104 l32 -2 5 160 c7 230\n    50 394 146 559 281 479 917 673 1405 429 316 -159 530 -424 598 -742 22 -106\n    29 -365 13 -519 l-8 -82 3002 0 c2855 0 3002 1 2995 18 -33 87 -56 325 -45\n    461 28 320 177 567 459 759 399 273 847 282 1243 24 239 -157 397 -392 460\n    -687 18 -84 15 -341 -5 -430 -8 -38 -14 -71 -12 -73 7 -8 386 20 478 34 180\n    28 253 65 304 152 24 41 28 57 28 127 -1 44 -9 117 -20 163 -18 79 -18 88 -2\n    190 31 199 40 306 41 497 1 176 -1 195 -23 260 -46 135 -103 190 -283 274\n    -222 104 -633 220 -1168 330 -523 108 -1524 210 -2054 211 l-229 0 -236 139\n    c-813 477 -1593 884 -1852 966 -498 157 -1598 195 -2892 100 l-188 -14 -47 30\n    c-92 58 -223 89 -297 70z m1912 -311 c13 -45 58 -305 88 -515 33 -226 74 -539\n    71 -542 -7 -7 -1672 40 -2054 58 -357 16 -464 56 -573 215 -62 91 -87 225 -59\n    326 12 40 56 74 192 148 369 198 799 289 1618 340 246 15 290 16 510 16 l194\n    -1 13 -45z m649 10 c383 -36 717 -86 934 -139 210 -52 451 -163 720 -332 141\n    -88 379 -259 380 -271 0 -5 -14 -8 -32 -8 -48 0 -114 -37 -140 -78 -24 -39\n    -30 -113 -15 -189 l9 -43 -904 0 -904 0 -176 540 -175 540 47 0 c25 0 141 -9\n    256 -20z"/>\n    <path d="M2617 3125 c-431 -82 -774 -440 -838 -875 -17 -117 -7 -292 24 -410\n    113 -436 497 -751 947 -777 507 -29 959 313 1076 813 28 117 26 348 -4 467\n    -94 378 -383 670 -760 768 -105 27 -336 34 -445 14z m378 -310 c84 -21 209\n    -85 280 -142 116 -94 210 -242 251 -393 23 -87 24 -260 0 -355 -58 -237 -242\n    -439 -473 -519 -531 -186 -1074 277 -969 828 30 152 94 274 206 386 111 110\n    237 178 385 206 84 16 235 11 320 -11z"/>\n    <path d="M2918 2568 c2 -90 7 -167 12 -172 17 -17 108 58 201 166 l51 57 -48\n    31 c-52 33 -131 65 -185 75 l-34 6 3 -163z"/>\n    <path d="M2591 2700 c-62 -22 -167 -82 -164 -94 3 -13 237 -216 249 -216 7 0\n    15 7 18 16 8 20 8 127 -1 232 -7 95 -8 96 -102 62z"/>\n    <path d="M3209 2355 c-57 -64 -105 -123 -107 -131 -6 -25 46 -35 157 -29 58 3\n    121 8 139 11 33 5 34 6 27 42 -7 44 -64 167 -92 201 l-19 24 -105 -118z"/>\n    <path d="M2260 2409 c-31 -44 -68 -133 -77 -186 l-6 -33 155 0 c165 0 201 9\n    181 44 -13 24 -204 216 -214 216 -5 0 -22 -18 -39 -41z"/>\n    <path d="M2786 2354 c-36 -35 0 -87 44 -64 26 14 26 56 1 70 -25 13 -27 13\n    -45 -6z"/>\n    <path d="M2751 2186 c-57 -32 -68 -111 -22 -157 43 -42 101 -43 143 -1 42 42\n    41 100 -1 143 -33 32 -78 38 -120 15z"/>\n    <path d="M2560 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n    -54 2z"/>\n    <path d="M3002 2124 c-27 -19 -28 -36 -3 -58 25 -23 61 -6 61 29 0 33 -30 49\n    -58 29z"/>\n    <path d="M2245 1993 c-77 -6 -76 -5 -59 -65 16 -55 61 -146 92 -186 l18 -23\n    103 122 c57 67 104 129 105 138 1 14 -14 16 -104 17 -58 0 -127 -1 -155 -3z"/>\n    <path d="M3165 1981 c-44 -4 -61 -10 -63 -22 -3 -16 210 -229 228 -229 22 0\n    86 141 105 228 l7 32 -109 -2 c-59 -1 -135 -4 -168 -7z"/>\n    <path d="M2776 1914 c-19 -18 -19 -20 -6 -45 6 -11 21 -19 35 -19 20 0 45 24\n    45 44 0 10 -32 36 -45 36 -7 0 -21 -7 -29 -16z"/>\n    <path d="M2589 1743 c-86 -90 -139 -151 -139 -162 0 -25 179 -101 236 -101\n    l27 0 -7 143 c-9 166 -13 187 -35 187 -9 0 -46 -30 -82 -67z"/>\n    <path d="M2936 1801 c-6 -10 -24 -168 -29 -258 -3 -60 -2 -63 19 -63 79 0 262\n    68 248 92 -5 7 -53 64 -108 126 -93 105 -117 124 -130 103z"/>\n    <path d="M10723 3125 c-318 -58 -597 -266 -743 -555 -223 -441 -98 -996 289\n    -1288 112 -84 188 -125 311 -166 274 -91 545 -70 802 61 552 282 735 983 392\n    1500 -225 339 -651 521 -1051 448z m385 -315 c348 -98 579 -443 532 -796 -67\n    -508 -596 -796 -1055 -574 -239 116 -396 352 -412 620 -20 335 192 640 516\n    745 122 40 289 42 419 5z"/>\n    <path d="M11017 2568 c3 -90 9 -167 14 -172 13 -14 53 18 155 122 l95 97 -23\n    18 c-50 40 -189 97 -235 97 -10 0 -11 -33 -6 -162z"/>\n    <path d="M10705 2706 c-50 -16 -133 -58 -163 -82 l-23 -19 121 -107 c67 -60\n    128 -108 135 -108 23 0 27 39 20 186 -8 162 -4 157 -90 130z"/>\n    <path d="M11307 2354 c-59 -65 -107 -126 -107 -136 0 -11 11 -18 38 -22 44 -7\n    278 7 289 17 15 16 -51 183 -94 236 l-19 24 -107 -119z"/>\n    <path d="M10362 2413 c-39 -62 -70 -134 -78 -184 l-7 -39 152 0 c86 0 161 5\n    172 10 17 10 18 13 5 38 -8 15 -59 71 -114 125 l-99 99 -31 -49z"/>\n    <path d="M10888 2359 c-24 -14 -23 -56 2 -69 44 -23 80 29 44 64 -18 19 -23\n    19 -46 5z"/>\n    <path d="M10851 2187 c-49 -29 -66 -101 -35 -146 9 -13 32 -29 50 -37 29 -12\n    39 -12 68 0 99 41 85 180 -19 192 -24 3 -50 -1 -64 -9z"/>\n    <path d="M10660 2136 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n    -54 2z"/>\n    <path d="M11096 2124 c-9 -8 -16 -22 -16 -29 0 -13 26 -45 36 -45 20 0 44 25\n    44 45 0 14 -8 29 -19 35 -25 13 -27 13 -45 -6z"/>\n    <path d="M10335 1991 c-60 -6 -60 -6 -57 -36 9 -69 104 -248 122 -229 57 61\n    210 250 207 258 -4 12 -176 17 -272 7z"/>\n    <path d="M11267 1983 c-68 -5 -79 -19 -47 -60 23 -31 200 -193 210 -193 3 0\n    20 24 37 53 29 48 52 111 67 180 l6 27 -107 -2 c-60 -1 -134 -3 -166 -5z"/>\n    <path d="M10870 1910 c-16 -31 4 -62 38 -58 21 2 28 9 30 32 5 45 -47 65 -68\n    26z"/>\n    <path d="M10651 1703 c-56 -59 -101 -113 -101 -120 0 -28 172 -103 237 -103\n    l26 0 -7 123 c-10 179 -15 207 -36 207 -10 0 -63 -48 -119 -107z"/>\n    <path d="M11035 1801 c-7 -12 -23 -144 -29 -243 -4 -77 -4 -78 19 -78 45 0\n    130 22 193 51 l64 29 -19 23 c-65 82 -198 227 -209 227 -7 0 -15 -4 -19 -9z"/>\n    </g>\n    </svg>\n    `},823:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateTable=t.registerTable=t.selectWinners=t.createRow=t.createHeaderTable=t.showWinnersQuantity=void 0;const a=n(760),r=n(780),o=n(650),c=n(657);t.showWinnersQuantity=async()=>(await(0,a.getAllWinners)()).length;const s=(e,t)=>{const n=document.createElement("button");return n.classList.add(`${e}`),n.textContent=`${t} increase`,n};t.createHeaderTable=()=>{const e=document.createElement("tr");e.classList.add("table-head");const t=document.createElement("th");t.textContent="number",e.append(t);const n=document.createElement("th");n.textContent="car",e.append(n);const a=document.createElement("th");a.textContent="name",e.append(a);const r=document.createElement("th");r.textContent="win",e.append(r);const o=document.createElement("th");return o.textContent="best time",e.append(o),e},t.createRow=(e,t)=>{const n=document.createElement("tr");n.classList.add("table-row");const a=document.createElement("td"),r=1===o.store.pageNumWinners?0:10*o.store.pageNumWinners-10;a.textContent=`${t+1+r}`,n.append(a);const s=document.createElement("td");s.classList.add("table-car-svg"),s.innerHTML=(0,c.createImgCar)(e.color),n.append(s);const i=document.createElement("td");i.textContent=e.name,n.append(i);const d=document.createElement("td");d.textContent=`${e.wins}`,n.append(d);const l=document.createElement("td");return l.textContent=`${e.time}s`,n.append(l),n},t.selectWinners=async()=>{const e=await fetch(r.GET_CAR_URL),t=await e.json();return((e,t)=>{const n={},a=[];return t.forEach((e=>{n[e.id]=e})),e.forEach((e=>{const t=n[e.id];a.push({...t,...e})})),a})(await(0,a.getWinners)(10,o.store.pageNumWinners),t)},t.registerTable=async()=>{const e=await(0,t.selectWinners)(),n=document.querySelector(".main"),a=(()=>{const e=document.createElement("table");return e.classList.add("table"),e})(),r=(()=>{const e=document.createElement("div");return e.classList.add("winner-wrapper"),e})(),o=(0,t.createHeaderTable)(),c=s("sort-win","sort  by wins"),i=s("sort-time","sort  by best time");r.append(c,i),a.append(o),r.append(a),n.append(r),e.forEach(((e,n)=>{const r=(0,t.createRow)(e,n);a.append(r)}))},t.updateTable=async()=>{const e=document.querySelector(".table");e.innerHTML=null,e.append((0,t.createHeaderTable)()),(await(0,t.selectWinners)()).forEach(((n,a)=>{const r=(0,t.createRow)(n,a);e.append(r)}))}},595:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTitleBlock=void 0,t.createTitleBlock=e=>{const t=document.querySelector(".main"),n=document.createElement("div");n.classList.add("text");const a=document.createElement("h1");a.classList.add("page-name"),a.textContent=`${e.pageName}`,n.append(a);const r=document.createElement("span");r.classList.add("quantity"),r.textContent=`${e.carsQuantity}`,n.append(r);const o=document.createElement("h2");o.classList.add("page-num"),o.textContent=`page ${e.pageNumGarage}`,n.append(o),t.append(n)}},62:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeCar=t.updateCar=void 0;const a=n(140),r=n(780),o=n(294),c=n(650),s=e=>{const t=document.querySelector(".update > .input-text"),n=document.querySelector(".update > .input-color"),a=document.querySelector(".update-btn");t.disabled=e,n.disabled=e,a.disabled=e};t.updateCar=e=>{e.target.classList.contains("btn-select")&&(c.store.selectedCarId=e.target.dataset.carid,(e=>{const t=document.querySelector(".update > .input-text"),n=e.target.parentElement.parentElement;t.disabled?(s(!1),n.style.border="2px solid #41436A"):(s(!0),n.style.border="none",n.style.borderBottom="2px dashed #fff")})(e))},t.changeCar=async()=>{const e=document.querySelector(".track-list"),t=document.querySelector(".update > .input-text"),n=document.querySelector(".update > .input-color"),i=document.querySelectorAll(".track-wrapper");if(""===t.value)return void alert("Please enter car's name");const d=await(async()=>(await(0,a.getCars)(7,c.store.pageNumGarage)).find((e=>e.id===+c.store.selectedCarId)))();d.color=n.value,d.name=t.value,i.forEach((e=>{e.style.border="none",e.style.borderBottom="2px dashed #fff"})),await fetch(`${r.GET_CAR_URL}/${c.store.selectedCarId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});const l=await(0,a.getCars)(7,c.store.pageNumGarage);e.innerHTML=null;for(const t of l){const n=(0,o.createTrack)(t);e.append(n)}t.value="",s(!0)}},581:(e,t,n)=>{e.exports=n.p+"0093e5c9742805e7cb37.svg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{n(654);const e=n(238);window.addEventListener("DOMContentLoaded",e.startApp)})()})();